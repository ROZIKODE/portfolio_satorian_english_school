<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>無料体験レッスン｜Satorian English School</title>
  <link rel="stylesheet" href="style.css" />
</head>



<body>

  <!-- ===== Header（既存のものがあるならそれを流用OK） ===== -->
  <header class="site-header">
    <div class="header-top">
      <div class="header-inner">
        <a href="index.html" class="logo">
          <span class="logo-main">Satorian</span>
          <span class="logo-sub">English School</span>
        </a>

        <div class="top-actions">


          <a href="contact.html" class="cta-trial">お問い合わせ</a>
        </div>
      </div>
    </div>

    <div class="header-bottom">
      <div class="header-inner">
        <nav class="global-nav">
          <a href="index.html#reasons">選ばれる理由</a>
          <a href="index.html#teachers">講師の特徴</a>
          <a href="index.html#courses">コース・レッスン料</a>
          <a href="index.html#schools">スクールを探す</a>
          <a href="index.html#voices">生徒様の声</a>
        </nav>
      </div>
    </div>
  </header>
  <!-- ===== /Header ===== -->

  <main class="trial" aria-label="無料体験レッスンページ">


      <!-- ===== Page Head ===== -->
          <!-- ===== Trial Head ===== -->
      <section class="trial-head">
        <div class="trial-head-inner">
          <p class="trial-sub">FREE TRIAL</p>
          <h1 class="trial-title">無料体験レッスン</h1>
        </div>
      </section>
<!-- ===== /Trial Head ===== -->




    <div class="trial-inner">
      <!-- ===== Flow ===== -->
      <section class="trial-flow" aria-label="無料体験レッスンの流れ">
        <div class="trial-section-head">
          <p class="trial-section-sub">FLOW</p>
          <h2 class="trial-section-title">当日の流れ</h2>
        </div>

        <ol class="flow-list">

            <li class="flow-item">
            <div class="flow-media">
                <img src="images/flow1.png" alt="ヒアリングの様子">
            </div>

            <div class="flow-content">
                <p class="flow-no">01</p>
                <h3 class="flow-title">ご希望内容のヒアリング</h3>
                <p class="flow-text">
                学習目的・ご経験・苦手な点を簡単に伺い、最適な体験内容を調整します。
                </p>
            </div>
            </li>

            <li class="flow-item">
            <div class="flow-media">
                <img src="images/flow2.png" alt="ヒアリングの様子">
            </div>

            <div class="flow-content">
                <p class="flow-no">02</p>
                <h3 class="flow-title">体験レッスン（約30分）</h3>
                <p class="flow-text">
                日本語フォローつきで進行。緊張せず「話す楽しさ」を体感できます。
                </p>
            </div>
            </li>

            <li class="flow-item">
            <div class="flow-media">
                <img src="images/flow3.png" alt="学習プランを提案している様子">
            </div>

            <div class="flow-content">
                <p class="flow-no">03</p>
                <h3 class="flow-title">学習プランのご提案</h3>
                <p class="flow-text">
                通い方・目標に合わせて、無理のない学習設計とおすすめコースをご提案します。
                </p>
            </div>
            </li>

        </ol>

        <p class="trial-note">
          ※ オンライン体験も可能です。ご希望の方はフォーム内で「オンライン」を選択してください。
        </p>
      </section>

      </div>
      <!-- ===== Form ===== -->
       <!-- 横幅いっぱいの帯 -->
      <section class="trial-form" aria-label="無料体験レッスンのお申し込み">
       

          
            <div class="trial-section-head-app">
              <p class="trial-section-sub">APPLICATION</p>
              <h2 class="trial-section-title">お申し込みフォーム</h2>
            </div>

           <div class="trial-form-inner">
            <p class="form-note">
              ※「必須」項目は必ずご入力ください。
            </p>

            <form class="application-form" action="#" method="post">

              <!-- 受講形式 -->
              <div class="form-row">
                <label class="form-label is-required" for="trial-style">受講形式</label>
                <div class="form-field">
                  <select id="trial-style" name="trial-style" required>
                    <option value="" selected disabled>選択してください</option>
                    <option value="教室（対面）">教室（対面）</option>
                    <option value="オンライン">オンライン</option>
                  </select>
                </div>
              </div>

              <!-- 希望スクール（対面のときだけ意味がある想定） -->
              <div class="form-row">
                <label class="form-label" for="trial-school">希望スクール</label>
                <div class="form-field">
                  <select id="trial-school" name="trial-school">
                    <option value="" selected>未選択（後で相談）</option>
                    <option value="青森">青森</option>
                    <option value="岩手">岩手</option>
                    <option value="宮城">宮城</option>
                    <option value="埼玉">埼玉</option>
                    <option value="東京">東京</option>
                    <option value="静岡">静岡</option>
                    <option value="京都">京都</option>
                    <option value="愛媛">愛媛</option>
                    <option value="長崎">長崎</option>
                    <option value="熊本">熊本</option>
                  </select>
                  <p class="form-note">※ オンライン希望の場合は未選択でもOKです。</p>
                </div>
              </div>

              <!-- お名前 -->
              <div class="form-row">
                <label class="form-label is-required" for="last-name">お名前</label>
                <div class="form-field two-cols">
                  <input id="last-name" type="text" name="last-name" placeholder="姓" autocomplete="family-name" required>
                  <input id="first-name" type="text" name="first-name" placeholder="名" autocomplete="given-name" required>
                </div>
              </div>

              <!-- フリガナ -->
              <div class="form-row">
                <label class="form-label is-required" for="last-kana">フリガナ</label>
                <div class="form-field two-cols">
                  <input id="last-kana" type="text" name="last-kana" placeholder="セイ" autocomplete="family-name" required>
                  <input id="first-kana" type="text" name="first-kana" placeholder="メイ" autocomplete="given-name" required>
                </div>
              </div>

              <!-- メール -->
              <div class="form-row">
                <label class="form-label is-required" for="email">メールアドレス</label>
                <div class="form-field">
                  <input id="email" type="email" name="email" placeholder="例）example@satorian.co.jp（半角）" autocomplete="email" required>
                </div>
              </div>

             <!-- 電話番号 -->
              <div class="form-row">
                <label class="form-label is-required" for="tel">電話番号</label>
                <div class="form-field">
                  <input
                    id="tel"
                    type="tel"
                    name="tel"
                    placeholder="例）000-0000-0000（半角）"
                    autocomplete="tel"
                    required
                  >
                </div>
              </div>

              <!-- 日時選択（date + time） -->
              <div class="form-row">
                <label class="form-label is-required" for="trial-date">希望日時</label>
                <div class="form-field">
                  <div class="datetime-grid">
                    <input id="trial-date" type="date" name="trial-date" required>
                    <select id="trial-time" name="trial-time" required>
                      <option value="" selected disabled>時間を選択</option>
                      <option value="10:00">10:00</option>
                      <option value="11:00">11:00</option>
                      <option value="13:00">13:00</option>
                      <option value="14:00">14:00</option>
                      <option value="15:00">15:00</option>
                      <option value="16:00">16:00</option>
                    </select>
                  </div>
                  <p class="form-note">※ 当日の空き状況により、別時間をご提案する場合があります。</p>
                </div>
              </div>

              <!-- 相談内容 -->
              <div class="form-row">
                <label class="form-label" for="message">ご相談内容</label>
                <div class="form-field">
                  <textarea id="message" name="message" rows="5" placeholder="例）英会話初心者です。発音を重点的に学びたいです。"></textarea>
                </div>
              </div>

              <!-- プライバシー同意 -->
              <div class="form-row">
                <div class="form-label is-required">プライバシー</div>
                <div class="form-field">
                  <label class="check-label">
                    <input id="privacy" type="checkbox" name="privacy" required>
                    <span>
                      <a href="privacy.html" target="_blank" rel="noopener noreferrer">プライバシーポリシー</a>
                      に同意します
                    </span>
                  </label>
                  <p class="form-note">※ お申し込みの送信には同意が必要です。</p>
                </div>
              </div>

              <div class="form-actions">
                <button type="submit" class="contact-submit">体験レッスンを申し込む</button>
              </div>
            </form>
                  
                            <!-- ===== Confirm Modal ===== -->
                <div class="confirm-modal" id="confirmModal" aria-hidden="true">
                  <div class="confirm-backdrop" data-close="true"></div>

                  <div class="confirm-dialog" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
                    <h2 class="confirm-title" id="confirmTitle">入力内容の確認</h2>

                    <dl class="confirm-list" id="confirmList">
                      <!-- JSでここに差し込みます -->
                    </dl>

                    <div class="confirm-actions">
                      <button type="button" class="confirm-back" id="confirmBack">修正する</button>
                      <button type="button" class="confirm-submit" id="confirmSubmit">この内容で送信</button>
                    </div>
                  </div>
                </div>
                <!-- ===== /Confirm Modal ===== -->
        
      </section>

    </div>
  </main>

<script>
(() => {
  const form = document.querySelector(".application-form");
  const modal = document.getElementById("confirmModal");
  const list = document.getElementById("confirmList");
  const backBtn = document.getElementById("confirmBack");
  const submitBtn = document.getElementById("confirmSubmit");

  if (!form || !modal || !list) return;

  let pendingSubmit = false;

  const openModal = () => {
    modal.classList.add("is-open");
    modal.setAttribute("aria-hidden", "false");
    document.body.style.overflow = "hidden";
  };

  const closeModal = () => {
    modal.classList.remove("is-open");
    modal.setAttribute("aria-hidden", "true");
    document.body.style.overflow = "";
  };

  const esc = (e) => {
    if (e.key === "Escape") closeModal();
  };

  const buildRow = (label, value) => {
    const safe = (value ?? "").toString().trim() || "—";
    return `
      <div class="row">
        <dt>${label}</dt>
        <dd>${safe}</dd>
      </div>
    `;
  };

  const getValue = (selector) => {
    const el = form.querySelector(selector);
    if (!el) return "";
    if (el.tagName === "SELECT") {
      return el.options[el.selectedIndex]?.text || "";
    }
    if (el.type === "checkbox") {
      return el.checked ? "同意する" : "未同意";
    }
    return el.value || "";
  };

  // 送信前に確認モーダルを表示
  form.addEventListener("submit", (e) => {
    if (pendingSubmit) return; // 確認後の本送信は止めない

    // HTMLのバリデーションを走らせる
    if (!form.checkValidity()) {
      // ブラウザの標準UIを表示
      form.reportValidity();
      e.preventDefault();
      return;
    }

    e.preventDefault();

    // 必要項目をまとめる（あなたのIDに合わせて取得）
    const data = [
      ["受講形式", getValue("#trial-style")],
      ["希望スクール", getValue("#trial-school")],
      ["お名前", `${getValue("#last-name")} ${getValue("#first-name")}`],
      ["フリガナ",`${getValue("#last-kana")} ${getValue("#first-kana")}`],
      ["メールアドレス", getValue("#email")],
      ["電話番号",getValue("#tel")],
      ["希望日", getValue("#trial-date")],
      ["希望時間", getValue("#trial-time")],
      ["ご相談内容", getValue("#message")],
      ["プライバシー", getValue("#privacy")],
    ];

    list.innerHTML = data.map(([k, v]) => buildRow(k, v)).join("");
    openModal();
    document.addEventListener("keydown", esc);
  });

  // 修正する
  backBtn.addEventListener("click", () => {
    closeModal();
    document.removeEventListener("keydown", esc);
  });

  // 背景クリックで閉じる
  modal.addEventListener("click", (e) => {
    if (e.target?.dataset?.close) {
      closeModal();
      document.removeEventListener("keydown", esc);
    }
  });

  // この内容で送信
  submitBtn.addEventListener("click", () => {
    pendingSubmit = true;
    closeModal();
    document.removeEventListener("keydown", esc);
    form.submit(); // 本送信
  });
})();
</script>

</body>
</html>